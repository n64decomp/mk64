glabel func_8008B478
/* 08C078 8008B478 27BDFFC8 */  addiu $sp, $sp, -0x38
/* 08C07C 8008B47C AFBF001C */  sw    $ra, 0x1c($sp)
/* 08C080 8008B480 AFB00018 */  sw    $s0, 0x18($sp)
/* 08C084 8008B484 00808025 */  move  $s0, $a0
/* 08C088 8008B488 0C022CF9 */  jal   func_8008B3E4
/* 08C08C 8008B48C AFA5003C */   sw    $a1, 0x3c($sp)
/* 08C090 8008B490 8FAE003C */  lw    $t6, 0x3c($sp)
/* 08C094 8008B494 11C00005 */  beqz  $t6, .L8008B4AC
/* 08C098 8008B498 00000000 */   nop   
/* 08C09C 8008B49C 0C022CA1 */  jal   func_8008B284
/* 08C0A0 8008B4A0 02002025 */   move  $a0, $s0
/* 08C0A4 8008B4A4 10000004 */  b     .L8008B4B8
/* 08C0A8 8008B4A8 001078C0 */   sll   $t7, $s0, 3
.L8008B4AC:
/* 08C0AC 8008B4AC 0C022C75 */  jal   func_8008B1D4
/* 08C0B0 8008B4B0 02002025 */   move  $a0, $s0
/* 08C0B4 8008B4B4 001078C0 */  sll   $t7, $s0, 3
.L8008B4B8:
/* 08C0B8 8008B4B8 01F07823 */  subu  $t7, $t7, $s0
/* 08C0BC 8008B4BC 3C188016 */  lui   $t8, %hi(D_80165C18) # $t8, 0x8016
/* 08C0C0 8008B4C0 27185C18 */  addiu $t8, %lo(D_80165C18) # addiu $t8, $t8, 0x5c18
/* 08C0C4 8008B4C4 000F7940 */  sll   $t7, $t7, 5
/* 08C0C8 8008B4C8 01F81821 */  addu  $v1, $t7, $t8
/* 08C0CC 8008B4CC 94790098 */  lhu   $t9, 0x98($v1)
/* 08C0D0 8008B4D0 3C014F80 */  li    $at, 0x4F800000 # 4294967296.000000
/* 08C0D4 8008B4D4 44992000 */  mtc1  $t9, $f4
/* 08C0D8 8008B4D8 07210004 */  bgez  $t9, .L8008B4EC
/* 08C0DC 8008B4DC 468021A0 */   cvt.s.w $f6, $f4
/* 08C0E0 8008B4E0 44814000 */  mtc1  $at, $f8
/* 08C0E4 8008B4E4 00000000 */  nop   
/* 08C0E8 8008B4E8 46083180 */  add.s $f6, $f6, $f8
.L8008B4EC:
/* 08C0EC 8008B4EC 3C01800F */  lui   $at, %hi(D_800EF508)
/* 08C0F0 8008B4F0 D430F508 */  ldc1  $f16, %lo(D_800EF508)($at)
/* 08C0F4 8008B4F4 460032A1 */  cvt.d.s $f10, $f6
/* 08C0F8 8008B4F8 02002025 */  move  $a0, $s0
/* 08C0FC 8008B4FC 46305483 */  div.d $f18, $f10, $f16
/* 08C100 8008B500 AFA30024 */  sw    $v1, 0x24($sp)
/* 08C104 8008B504 46209020 */  cvt.s.d $f0, $f18
/* 08C108 8008B508 44050000 */  mfc1  $a1, $f0
/* 08C10C 8008B50C 0C022C5F */  jal   func_8008B17C
/* 08C110 8008B510 E7A00034 */   swc1  $f0, 0x34($sp)
/* 08C114 8008B514 02002025 */  move  $a0, $s0
/* 08C118 8008B518 0C01C88F */  jal   func_8007223C
/* 08C11C 8008B51C 24050800 */   li    $a1, 2048
/* 08C120 8008B520 10400006 */  beqz  $v0, .L8008B53C
/* 08C124 8008B524 8FA30024 */   lw    $v1, 0x24($sp)
/* 08C128 8008B528 02002025 */  move  $a0, $s0
/* 08C12C 8008B52C 8FA50034 */  lw    $a1, 0x34($sp)
/* 08C130 8008B530 0C022BF8 */  jal   func_8008AFE0
/* 08C134 8008B534 AFA30024 */   sw    $v1, 0x24($sp)
/* 08C138 8008B538 8FA30024 */  lw    $v1, 0x24($sp)
.L8008B53C:
/* 08C13C 8008B53C 8C62007C */  lw    $v0, 0x7c($v1)
/* 08C140 8008B540 C7AA0034 */  lwc1  $f10, 0x34($sp)
/* 08C144 8008B544 3C01800F */  lui   $at, %hi(D_800EF510)
/* 08C148 8008B548 84480006 */  lh    $t0, 6($v0)
/* 08C14C 8008B54C 8449000E */  lh    $t1, 0xe($v0)
/* 08C150 8008B550 240B0001 */  li    $t3, 1
/* 08C154 8008B554 44882000 */  mtc1  $t0, $f4
/* 08C158 8008B558 44894000 */  mtc1  $t1, $f8
/* 08C15C 8008B55C 46802020 */  cvt.s.w $f0, $f4
/* 08C160 8008B560 468040A0 */  cvt.s.w $f2, $f8
/* 08C164 8008B564 D428F510 */  ldc1  $f8, %lo(D_800EF510)($at)
/* 08C168 8008B568 3C0141E0 */  li    $at, 0x41E00000 # 28.000000
/* 08C16C 8008B56C 46001181 */  sub.s $f6, $f2, $f0
/* 08C170 8008B570 460A3402 */  mul.s $f16, $f6, $f10
/* 08C174 8008B574 46008480 */  add.s $f18, $f16, $f0
/* 08C178 8008B578 46009121 */  cvt.d.s $f4, $f18
/* 08C17C 8008B57C 46244183 */  div.d $f6, $f8, $f4
/* 08C180 8008B580 444AF800 */  cfc1  $t2, $31
/* 08C184 8008B584 44CBF800 */  ctc1  $t3, $31
/* 08C188 8008B588 00000000 */  nop   
/* 08C18C 8008B58C 462032A4 */  cvt.w.d $f10, $f6
/* 08C190 8008B590 444BF800 */  cfc1  $t3, $31
/* 08C194 8008B594 00000000 */  nop   
/* 08C198 8008B598 316B0078 */  andi  $t3, $t3, 0x78
/* 08C19C 8008B59C 51600014 */  beql  $t3, $zero, .L8008B5F0
/* 08C1A0 8008B5A0 440B5000 */   mfc1  $t3, $f10
/* 08C1A4 8008B5A4 44815800 */  mtc1  $at, $f11
/* 08C1A8 8008B5A8 44805000 */  mtc1  $zero, $f10
/* 08C1AC 8008B5AC 240B0001 */  li    $t3, 1
/* 08C1B0 8008B5B0 462A3281 */  sub.d $f10, $f6, $f10
/* 08C1B4 8008B5B4 44CBF800 */  ctc1  $t3, $31
/* 08C1B8 8008B5B8 00000000 */  nop   
/* 08C1BC 8008B5BC 462052A4 */  cvt.w.d $f10, $f10
/* 08C1C0 8008B5C0 444BF800 */  cfc1  $t3, $31
/* 08C1C4 8008B5C4 00000000 */  nop   
/* 08C1C8 8008B5C8 316B0078 */  andi  $t3, $t3, 0x78
/* 08C1CC 8008B5CC 15600005 */  bnez  $t3, .L8008B5E4
/* 08C1D0 8008B5D0 00000000 */   nop   
/* 08C1D4 8008B5D4 440B5000 */  mfc1  $t3, $f10
/* 08C1D8 8008B5D8 3C018000 */  lui   $at, 0x8000
/* 08C1DC 8008B5DC 10000007 */  b     .L8008B5FC
/* 08C1E0 8008B5E0 01615825 */   or    $t3, $t3, $at
.L8008B5E4:
/* 08C1E4 8008B5E4 10000005 */  b     .L8008B5FC
/* 08C1E8 8008B5E8 240BFFFF */   li    $t3, -1
/* 08C1EC 8008B5EC 440B5000 */  mfc1  $t3, $f10
.L8008B5F0:
/* 08C1F0 8008B5F0 00000000 */  nop   
/* 08C1F4 8008B5F4 0560FFFB */  bltz  $t3, .L8008B5E4
/* 08C1F8 8008B5F8 00000000 */   nop   
.L8008B5FC:
/* 08C1FC 8008B5FC 946C0098 */  lhu   $t4, 0x98($v1)
/* 08C200 8008B600 8FBF001C */  lw    $ra, 0x1c($sp)
/* 08C204 8008B604 44CAF800 */  ctc1  $t2, $31
/* 08C208 8008B608 8FB00018 */  lw    $s0, 0x18($sp)
/* 08C20C 8008B60C 018B7021 */  addu  $t6, $t4, $t3
/* 08C210 8008B610 A46B009A */  sh    $t3, 0x9a($v1)
/* 08C214 8008B614 A46E0098 */  sh    $t6, 0x98($v1)
/* 08C218 8008B618 03E00008 */  jr    $ra
/* 08C21C 8008B61C 27BD0038 */   addiu $sp, $sp, 0x38
