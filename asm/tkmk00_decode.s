# Mario Kart 64 (U) disassembly and split file
# generated by n64split v0.4a - N64 ROM splitter

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64

.include "macros.inc"

.section .text, "ax"

/*
See these links for potential references to implement our own TKMK00 (de)compression code
https://github.com/mib-f8sm9c/MiscellaneousHacks/blob/master/BetaTools/MarioKartTestingTool/TKMK00Encoder.cs
https://skelux.net/showthread.php?tid=47&page=8

This link appears to have code near identical to libtkmk000
https://github.com/mib-f8sm9c/MiscellaneousHacks/blob/master/BetaTools/MarioKartTestingTool/TKMKTest.cs
Did libtkmk00 pull from that link, or vice-versa?

Maybe tkmk00 wasn't compiled with IDO. Its explicit usage of registers rather than variables is something that IDO can't do (I think?) but GCC can.
Or mabybe its C++ code and that interacts with registers differently?
Or maybe its all hand written?
*/

glabel tkmk00decode
/* 0411D0 800405D0 23BDFC00 */  addi  $sp, $sp, -0x400
/* 0411D4 800405D4 AFB0019C */  sw    $s0, 0x19c($sp)
/* 0411D8 800405D8 AFB10198 */  sw    $s1, 0x198($sp)
/* 0411DC 800405DC AFB20194 */  sw    $s2, 0x194($sp)
/* 0411E0 800405E0 AFB30190 */  sw    $s3, 0x190($sp)
/* 0411E4 800405E4 AFB4018C */  sw    $s4, 0x18c($sp)
/* 0411E8 800405E8 AFB50188 */  sw    $s5, 0x188($sp)
/* 0411EC 800405EC AFB60184 */  sw    $s6, 0x184($sp)
/* 0411F0 800405F0 AFB70180 */  sw    $s7, 0x180($sp)
/* 0411F4 800405F4 AFBF017C */  sw    $ra, 0x17c($sp)
/* 0411F8 800405F8 948C0008 */  lhu   $t4, 8($a0)
/* 0411FC 800405FC 948B000A */  lhu   $t3, 0xa($a0)
/* 041200 80040600 00E09025 */  move  $s2, $a3
/* 041204 80040604 908A0006 */  lbu   $t2, 6($a0)
/* 041208 80040608 2418FFFF */  li    $t8, -1
/* 04120C 8004060C 03A0C825 */  move  $t9, $sp
/* 041210 80040610 24170020 */  li    $s7, 32
/* 041214 80040614 018B0018 */  mult  $t4, $t3
.L80040618:
/* 041218 80040618 22F7FFFF */  addi  $s7, $s7, -1
/* 04121C 8004061C AF380000 */  sw    $t8, ($t9)
/* 041220 80040620 16E0FFFD */  bnez  $s7, .L80040618
/* 041224 80040624 23390004 */   addi  $t9, $t9, 4
/* 041228 80040628 00004012 */  mflo  $t0
/* 04122C 8004062C 0100A025 */  move  $s4, $t0
/* 041230 80040630 00C0B025 */  move  $s6, $a2
.L80040634:
/* 041234 80040634 2294FFFE */  addi  $s4, $s4, -2
/* 041238 80040638 AEC00000 */  sw    $zero, ($s6)
/* 04123C 8004063C 1E80FFFD */  bgtz  $s4, .L80040634
/* 041240 80040640 22D60004 */   addi  $s6, $s6, 4
/* 041244 80040644 0100B825 */  move  $s7, $t0
/* 041248 80040648 00A0C025 */  move  $t8, $a1
.L8004064C:
/* 04124C 8004064C 22F7FFFC */  addi  $s7, $s7, -4
/* 041250 80040650 AF000000 */  sw    $zero, ($t8)
/* 041254 80040654 1EE0FFFD */  bgtz  $s7, .L8004064C
/* 041258 80040658 23180004 */   addi  $t8, $t8, 4
/* 04125C 8004065C 23B401C0 */  addi  $s4, $sp, 0x1c0
/* 041260 80040660 24160008 */  li    $s6, 8
/* 041264 80040664 2087000C */  addi  $a3, $a0, 0xc
/* 041268 80040668 0140A825 */  move  $s5, $t2
.L8004066C:
/* 04126C 8004066C 8CF70000 */  lw    $s7, ($a3)
/* 041270 80040670 32A20001 */  andi  $v0, $s5, 1
/* 041274 80040674 14400002 */  bnez  $v0, .L80040680
/* 041278 80040678 02E4B820 */   add   $s7, $s7, $a0
/* 04127C 8004067C 22F7FFFC */  addi  $s7, $s7, -4
.L80040680:
/* 041280 80040680 22D6FFFF */  addi  $s6, $s6, -1
/* 041284 80040684 0015A842 */  srl   $s5, $s5, 1
/* 041288 80040688 AE970000 */  sw    $s7, ($s4)
/* 04128C 8004068C 20E70004 */  addi  $a3, $a3, 4
/* 041290 80040690 16C0FFF6 */  bnez  $s6, .L8004066C
/* 041294 80040694 22940004 */   addi  $s4, $s4, 4
/* 041298 80040698 AFA001E0 */  sw    $zero, 0x1e0($sp)
/* 04129C 8004069C AFA001E4 */  sw    $zero, 0x1e4($sp)
/* 0412A0 800406A0 AFA001E8 */  sw    $zero, 0x1e8($sp)
/* 0412A4 800406A4 AFA001EC */  sw    $zero, 0x1ec($sp)
/* 0412A8 800406A8 03A09825 */  move  $s3, $sp
/* 0412AC 800406AC 00003825 */  move  $a3, $zero
/* 0412B0 800406B0 8C88002C */  lw    $t0, 0x2c($a0)
/* 0412B4 800406B4 20840030 */  addi  $a0, $a0, 0x30
/* 0412B8 800406B8 227303F0 */  addi  $s3, $s3, 0x3f0
/* 0412BC 800406BC 04110140 */  bal   func_80040BC0
/* 0412C0 800406C0 24140020 */   li    $s4, 32
/* 0412C4 800406C4 00404825 */  move  $t1, $v0
/* 0412C8 800406C8 00006825 */  move  $t5, $zero
/* 0412CC 800406CC 00007025 */  move  $t6, $zero
/* 0412D0 800406D0 00007825 */  move  $t7, $zero
.L800406D4:
/* 0412D4 800406D4 94D90000 */  lhu   $t9, ($a2)
/* 0412D8 800406D8 53200008 */  beql  $t9, $zero, .L800406FC
/* 0412DC 800406DC 80A30000 */   lb    $v1, ($a1)
/* 0412E0 800406E0 3333FFFE */  andi  $s3, $t9, 0xfffe
/* 0412E4 800406E4 167200CC */  bne   $s3, $s2, .L80040A18
/* 0412E8 800406E8 03207825 */   move  $t7, $t9
/* 0412EC 800406EC A4D30000 */  sh    $s3, ($a2)
/* 0412F0 800406F0 100000C9 */  b     .L80040A18
/* 0412F4 800406F4 02607825 */   move  $t7, $s3
/* 0412F8 800406F8 80A30000 */  lb    $v1, ($a1)
.L800406FC:
/* 0412FC 800406FC 041100F2 */  bal   func_80040AC8
/* 041300 80040700 20630001 */   addi  $v1, $v1, 1
/* 041304 80040704 14400003 */  bnez  $v0, .L80040714
/* 041308 80040708 00000000 */   nop   
/* 04130C 8004070C 100000C2 */  b     .L80040A18
/* 041310 80040710 A4CF0000 */   sh    $t7, ($a2)
.L80040714:
/* 041314 80040714 041100D2 */  bal   func_80040A60
/* 041318 80040718 24030001 */   li    $v1, 1
/* 04131C 8004071C 10400050 */  beqz  $v0, .L80040860
/* 041320 80040720 00000000 */   nop   
/* 041324 80040724 0411014B */  bal   func_80040C54
/* 041328 80040728 00000000 */   nop   
/* 04132C 8004072C 04110149 */  bal   func_80040C54
/* 041330 80040730 02808025 */   move  $s0, $s4
/* 041334 80040734 04110147 */  bal   func_80040C54
/* 041338 80040738 02808825 */   move  $s1, $s4
/* 04133C 8004073C 0000A825 */  move  $s5, $zero
/* 041340 80040740 11C00006 */  beqz  $t6, .L8004075C
/* 041344 80040744 0000B025 */   move  $s6, $zero
/* 041348 80040748 000C9840 */  sll   $s3, $t4, 1
/* 04134C 8004074C 00D3C822 */  sub   $t9, $a2, $s3
/* 041350 80040750 97350000 */  lhu   $s5, ($t9)
/* 041354 80040754 10000004 */  b     .L80040768
/* 041358 80040758 94D6FFFE */   lhu   $s6, -2($a2)
.L8004075C:
/* 04135C 8004075C 51A00003 */  beql  $t5, $zero, .L8004076C
/* 041360 80040760 32B807C0 */   andi  $t8, $s5, 0x7c0
/* 041364 80040764 94D6FFFE */  lhu   $s6, -2($a2)
.L80040768:
/* 041368 80040768 32B807C0 */  andi  $t8, $s5, 0x7c0
.L8004076C:
/* 04136C 8004076C 32D907C0 */  andi  $t9, $s6, 0x7c0
/* 041370 80040770 0018C182 */  srl   $t8, $t8, 6
/* 041374 80040774 0019C982 */  srl   $t9, $t9, 6
/* 041378 80040778 0319C020 */  add   $t8, $t8, $t9
/* 04137C 8004077C 0018C042 */  srl   $t8, $t8, 1
/* 041380 80040780 04110144 */  bal   func_80040C94
/* 041384 80040784 0200C825 */   move  $t9, $s0
/* 041388 80040788 03381822 */  sub   $v1, $t9, $t8
/* 04138C 8004078C 03208025 */  move  $s0, $t9
/* 041390 80040790 32B8F800 */  andi  $t8, $s5, 0xf800
/* 041394 80040794 32D9F800 */  andi  $t9, $s6, 0xf800
/* 041398 80040798 0018C2C2 */  srl   $t8, $t8, 0xb
/* 04139C 8004079C 0019CAC2 */  srl   $t9, $t9, 0xb
/* 0413A0 800407A0 0319C020 */  add   $t8, $t8, $t9
/* 0413A4 800407A4 0018C042 */  srl   $t8, $t8, 1
/* 0413A8 800407A8 0303C020 */  add   $t8, $t8, $v1
/* 0413AC 800407AC 2B010020 */  slti  $at, $t8, 0x20
/* 0413B0 800407B0 14200003 */  bnez  $at, .L800407C0
/* 0413B4 800407B4 00000000 */   nop   
/* 0413B8 800407B8 10000004 */  b     .L800407CC
/* 0413BC 800407BC 2418001F */   li    $t8, 31
.L800407C0:
/* 0413C0 800407C0 07010002 */  bgez  $t8, .L800407CC
/* 0413C4 800407C4 00000000 */   nop   
/* 0413C8 800407C8 0000C025 */  move  $t8, $zero
.L800407CC:
/* 0413CC 800407CC 04110131 */  bal   func_80040C94
/* 0413D0 800407D0 0220C825 */   move  $t9, $s1
/* 0413D4 800407D4 03208825 */  move  $s1, $t9
/* 0413D8 800407D8 32B8003E */  andi  $t8, $s5, 0x3e
/* 0413DC 800407DC 32D9003E */  andi  $t9, $s6, 0x3e
/* 0413E0 800407E0 0018C042 */  srl   $t8, $t8, 1
/* 0413E4 800407E4 0019C842 */  srl   $t9, $t9, 1
/* 0413E8 800407E8 0319C020 */  add   $t8, $t8, $t9
/* 0413EC 800407EC 0018C042 */  srl   $t8, $t8, 1
/* 0413F0 800407F0 0303C020 */  add   $t8, $t8, $v1
/* 0413F4 800407F4 2B010020 */  slti  $at, $t8, 0x20
/* 0413F8 800407F8 14200003 */  bnez  $at, .L80040808
/* 0413FC 800407FC 00000000 */   nop   
/* 041400 80040800 10000004 */  b     .L80040814
/* 041404 80040804 2418001F */   li    $t8, 31
.L80040808:
/* 041408 80040808 07010002 */  bgez  $t8, .L80040814
/* 04140C 8004080C 00000000 */   nop   
/* 041410 80040810 0000C025 */  move  $t8, $zero
.L80040814:
/* 041414 80040814 0411011F */  bal   func_80040C94
/* 041418 80040818 0280C825 */   move  $t9, $s4
/* 04141C 8004081C 00108180 */  sll   $s0, $s0, 6
/* 041420 80040820 00118AC0 */  sll   $s1, $s1, 0xb
/* 041424 80040824 0019C840 */  sll   $t9, $t9, 1
/* 041428 80040828 0211C025 */  or    $t8, $s0, $s1
/* 04142C 8004082C 03197825 */  or    $t7, $t8, $t9
/* 041430 80040830 51F20003 */  beql  $t7, $s2, .L80040840
/* 041434 80040834 2415003F */   li    $s5, 63
/* 041438 80040838 35EF0001 */  ori   $t7, $t7, 1
/* 04143C 8004083C 2415003F */  li    $s5, 63
.L80040840:
/* 041440 80040840 23B6007C */  addi  $s6, $sp, 0x7c
.L80040844:
/* 041444 80040844 86D70000 */  lh    $s7, ($s6)
/* 041448 80040848 22B5FFFF */  addi  $s5, $s5, -1
/* 04144C 8004084C 22D6FFFE */  addi  $s6, $s6, -2
/* 041450 80040850 16A0FFFC */  bnez  $s5, .L80040844
/* 041454 80040854 A6D70004 */   sh    $s7, 4($s6)
/* 041458 80040858 1000000C */  b     .L8004088C
/* 04145C 8004085C A6CF0002 */   sh    $t7, 2($s6)
.L80040860:
/* 041460 80040860 0411007F */  bal   func_80040A60
/* 041464 80040864 24030006 */   li    $v1, 6
/* 041468 80040868 00021040 */  sll   $v0, $v0, 1
/* 04146C 8004086C 03A2B020 */  add   $s6, $sp, $v0
/* 041470 80040870 10400006 */  beqz  $v0, .L8004088C
/* 041474 80040874 96CF0000 */   lhu   $t7, ($s6)
.L80040878:
/* 041478 80040878 86D7FFFE */  lh    $s7, -2($s6)
/* 04147C 8004087C 22D6FFFE */  addi  $s6, $s6, -2
/* 041480 80040880 16DDFFFD */  bne   $s6, $sp, .L80040878
/* 041484 80040884 A6D70002 */   sh    $s7, 2($s6)
/* 041488 80040888 A6CF0000 */  sh    $t7, ($s6)
.L8004088C:
/* 04148C 8004088C A4CF0000 */  sh    $t7, ($a2)
/* 041490 80040890 11A00002 */  beqz  $t5, .L8004089C
/* 041494 80040894 0000C825 */   move  $t9, $zero
/* 041498 80040898 37390001 */  ori   $t9, $t9, 1
.L8004089C:
/* 04149C 8004089C 2195FFFF */  addi  $s5, $t4, -1
/* 0414A0 800408A0 01B5082A */  slt   $at, $t5, $s5
/* 0414A4 800408A4 50200003 */  beql  $at, $zero, .L800408B4
/* 0414A8 800408A8 2196FFFE */   addi  $s6, $t4, -2
/* 0414AC 800408AC 37390002 */  ori   $t9, $t9, 2
/* 0414B0 800408B0 2196FFFE */  addi  $s6, $t4, -2
.L800408B4:
/* 0414B4 800408B4 01B6082A */  slt   $at, $t5, $s6
/* 0414B8 800408B8 50200003 */  beql  $at, $zero, .L800408C8
/* 0414BC 800408BC 2175FFFF */   addi  $s5, $t3, -1
/* 0414C0 800408C0 37390004 */  ori   $t9, $t9, 4
/* 0414C4 800408C4 2175FFFF */  addi  $s5, $t3, -1
.L800408C8:
/* 0414C8 800408C8 01D5082A */  slt   $at, $t6, $s5
/* 0414CC 800408CC 50200003 */  beql  $at, $zero, .L800408DC
/* 0414D0 800408D0 2176FFFE */   addi  $s6, $t3, -2
/* 0414D4 800408D4 37390008 */  ori   $t9, $t9, 8
/* 0414D8 800408D8 2176FFFE */  addi  $s6, $t3, -2
.L800408DC:
/* 0414DC 800408DC 01D6082A */  slt   $at, $t6, $s6
/* 0414E0 800408E0 50200003 */  beql  $at, $zero, .L800408F0
/* 0414E4 800408E4 33370002 */   andi  $s7, $t9, 2
/* 0414E8 800408E8 37390010 */  ori   $t9, $t9, 0x10
/* 0414EC 800408EC 33370002 */  andi  $s7, $t9, 2
.L800408F0:
/* 0414F0 800408F0 24010002 */  li    $at, 2
/* 0414F4 800408F4 56E10005 */  bnel  $s7, $at, .L8004090C
/* 0414F8 800408F8 33360004 */   andi  $s6, $t9, 4
/* 0414FC 800408FC 90B40001 */  lbu   $s4, 1($a1)
/* 041500 80040900 22940001 */  addi  $s4, $s4, 1
/* 041504 80040904 A0B40001 */  sb    $s4, 1($a1)
/* 041508 80040908 33360004 */  andi  $s6, $t9, 4
.L8004090C:
/* 04150C 8004090C 24010004 */  li    $at, 4
/* 041510 80040910 56C10005 */  bnel  $s6, $at, .L80040928
/* 041514 80040914 33370009 */   andi  $s7, $t9, 9
/* 041518 80040918 90B40002 */  lbu   $s4, 2($a1)
/* 04151C 8004091C 22940001 */  addi  $s4, $s4, 1
/* 041520 80040920 A0B40002 */  sb    $s4, 2($a1)
/* 041524 80040924 33370009 */  andi  $s7, $t9, 9
.L80040928:
/* 041528 80040928 24010009 */  li    $at, 9
/* 04152C 8004092C 16E10004 */  bne   $s7, $at, .L80040940
/* 041530 80040930 00ACA820 */   add   $s5, $a1, $t4
/* 041534 80040934 92B4FFFF */  lbu   $s4, -1($s5)
/* 041538 80040938 22940001 */  addi  $s4, $s4, 1
/* 04153C 8004093C A2B4FFFF */  sb    $s4, -1($s5)
.L80040940:
/* 041540 80040940 33360008 */  andi  $s6, $t9, 8
/* 041544 80040944 24010008 */  li    $at, 8
/* 041548 80040948 56C10005 */  bnel  $s6, $at, .L80040960
/* 04154C 8004094C 3337000A */   andi  $s7, $t9, 0xa
/* 041550 80040950 92B40000 */  lbu   $s4, ($s5)
/* 041554 80040954 22940001 */  addi  $s4, $s4, 1
/* 041558 80040958 A2B40000 */  sb    $s4, ($s5)
/* 04155C 8004095C 3337000A */  andi  $s7, $t9, 0xa
.L80040960:
/* 041560 80040960 2401000A */  li    $at, 10
/* 041564 80040964 56E10005 */  bnel  $s7, $at, .L8004097C
/* 041568 80040968 33370010 */   andi  $s7, $t9, 0x10
/* 04156C 8004096C 92B40001 */  lbu   $s4, 1($s5)
/* 041570 80040970 22940001 */  addi  $s4, $s4, 1
/* 041574 80040974 A2B40001 */  sb    $s4, 1($s5)
/* 041578 80040978 33370010 */  andi  $s7, $t9, 0x10
.L8004097C:
/* 04157C 8004097C 24010010 */  li    $at, 16
/* 041580 80040980 16E10004 */  bne   $s7, $at, .L80040994
/* 041584 80040984 02ACB020 */   add   $s6, $s5, $t4
/* 041588 80040988 92D40000 */  lbu   $s4, ($s6)
/* 04158C 8004098C 22940001 */  addi  $s4, $s4, 1
/* 041590 80040990 A2D40000 */  sb    $s4, ($s6)
.L80040994:
/* 041594 80040994 04110032 */  bal   func_80040A60
/* 041598 80040998 24030001 */   li    $v1, 1
/* 04159C 8004099C 5040001F */  beql  $v0, $zero, .L80040A1C
/* 0415A0 800409A0 21AD0001 */   addi  $t5, $t5, 1
/* 0415A4 800409A4 00C08825 */  move  $s1, $a2
/* 0415A8 800409A8 000C8040 */  sll   $s0, $t4, 1
/* 0415AC 800409AC 35F30001 */  ori   $s3, $t7, 1
.L800409B0:
/* 0415B0 800409B0 0411002B */  bal   func_80040A60
/* 0415B4 800409B4 24030002 */   li    $v1, 2
/* 0415B8 800409B8 5440000C */  bnel  $v0, $zero, .L800409EC
/* 0415BC 800409BC 24010001 */   li    $at, 1
/* 0415C0 800409C0 04110027 */  bal   func_80040A60
/* 0415C4 800409C4 24030001 */   li    $v1, 1
/* 0415C8 800409C8 50400014 */  beql  $v0, $zero, .L80040A1C
/* 0415CC 800409CC 21AD0001 */   addi  $t5, $t5, 1
/* 0415D0 800409D0 04110023 */  bal   func_80040A60
/* 0415D4 800409D4 24030001 */   li    $v1, 1
/* 0415D8 800409D8 1440000C */  bnez  $v0, .L80040A0C
/* 0415DC 800409DC 22310004 */   addi  $s1, $s1, 4
/* 0415E0 800409E0 1000000A */  b     .L80040A0C
/* 0415E4 800409E4 2231FFF8 */   addi  $s1, $s1, -8
/* 0415E8 800409E8 24010001 */  li    $at, 1
.L800409EC:
/* 0415EC 800409EC 54410004 */  bnel  $v0, $at, .L80040A00
/* 0415F0 800409F0 24010003 */   li    $at, 3
/* 0415F4 800409F4 10000005 */  b     .L80040A0C
/* 0415F8 800409F8 2231FFFE */   addi  $s1, $s1, -2
/* 0415FC 800409FC 24010003 */  li    $at, 3
.L80040A00:
/* 041600 80040A00 54410003 */  bnel  $v0, $at, .L80040A10
/* 041604 80040A04 02308820 */   add   $s1, $s1, $s0
/* 041608 80040A08 22310002 */  addi  $s1, $s1, 2
.L80040A0C:
/* 04160C 80040A0C 02308820 */  add   $s1, $s1, $s0
.L80040A10:
/* 041610 80040A10 1000FFE7 */  b     .L800409B0
/* 041614 80040A14 A6330000 */   sh    $s3, ($s1)
.L80040A18:
/* 041618 80040A18 21AD0001 */  addi  $t5, $t5, 1
.L80040A1C:
/* 04161C 80040A1C 20A50001 */  addi  $a1, $a1, 1
/* 041620 80040A20 15ACFF2C */  bne   $t5, $t4, .L800406D4
/* 041624 80040A24 20C60002 */   addi  $a2, $a2, 2
/* 041628 80040A28 21CE0001 */  addi  $t6, $t6, 1
/* 04162C 80040A2C 15CBFF29 */  bne   $t6, $t3, .L800406D4
/* 041630 80040A30 00006825 */   move  $t5, $zero
/* 041634 80040A34 8FBF017C */  lw    $ra, 0x17c($sp)
/* 041638 80040A38 8FB70180 */  lw    $s7, 0x180($sp)
/* 04163C 80040A3C 8FB60184 */  lw    $s6, 0x184($sp)
/* 041640 80040A40 8FB50188 */  lw    $s5, 0x188($sp)
/* 041644 80040A44 8FB4018C */  lw    $s4, 0x18c($sp)
/* 041648 80040A48 8FB30190 */  lw    $s3, 0x190($sp)
/* 04164C 80040A4C 8FB20194 */  lw    $s2, 0x194($sp)
/* 041650 80040A50 8FB10198 */  lw    $s1, 0x198($sp)
/* 041654 80040A54 8FB0019C */  lw    $s0, 0x19c($sp)
/* 041658 80040A58 03E00008 */  jr    $ra
/* 04165C 80040A5C 23BD0400 */   addi  $sp, $sp, 0x400

# func_80040A60 -> masterReader.ReadBits
glabel func_80040A60
/* 041660 80040A60 00E3C820 */  add   $t9, $a3, $v1
/* 041664 80040A64 24180020 */  li    $t8, 32
/* 041668 80040A68 0303C022 */  sub   $t8, $t8, $v1
/* 04166C 80040A6C 2B210021 */  slti  $at, $t9, 0x21
/* 041670 80040A70 1020000B */  beqz  $at, .L80040AA0
/* 041674 80040A74 03081006 */   srlv  $v0, $t0, $t8
/* 041678 80040A78 24010020 */  li    $at, 32
/* 04167C 80040A7C 53210005 */  beql  $t9, $at, .L80040A94
/* 041680 80040A80 8C880000 */   lw    $t0, ($a0)
/* 041684 80040A84 00684004 */  sllv  $t0, $t0, $v1
/* 041688 80040A88 03E00008 */  jr    $ra
/* 04168C 80040A8C 00E33820 */   add   $a3, $a3, $v1

/* 041690 80040A90 8C880000 */  lw    $t0, ($a0)
.L80040A94:
/* 041694 80040A94 00003825 */  move  $a3, $zero
/* 041698 80040A98 03E00008 */  jr    $ra
/* 04169C 80040A9C 20840004 */   addi  $a0, $a0, 4

.L80040AA0:
/* 0416A0 80040AA0 24190040 */  li    $t9, 64
/* 0416A4 80040AA4 8C880000 */  lw    $t0, ($a0)
/* 0416A8 80040AA8 0323C822 */  sub   $t9, $t9, $v1
/* 0416AC 80040AAC 0327C822 */  sub   $t9, $t9, $a3
/* 0416B0 80040AB0 00F83822 */  sub   $a3, $a3, $t8
/* 0416B4 80040AB4 0328C006 */  srlv  $t8, $t0, $t9
/* 0416B8 80040AB8 00581025 */  or    $v0, $v0, $t8
/* 0416BC 80040ABC 20840004 */  addi  $a0, $a0, 4
/* 0416C0 80040AC0 03E00008 */  jr    $ra
/* 0416C4 80040AC4 00E84004 */   sllv  $t0, $t0, $a3

# func_80040AC8 -> commandReader.ReadBits
glabel func_80040AC8
/* 0416C8 80040AC8 006AC006 */  srlv  $t8, $t2, $v1
/* 0416CC 80040ACC 33190001 */  andi  $t9, $t8, 1
/* 0416D0 80040AD0 0003B840 */  sll   $s7, $v1, 1
/* 0416D4 80040AD4 03B7C020 */  add   $t8, $sp, $s7
/* 0416D8 80040AD8 1720000E */  bnez  $t9, .L80040B14
/* 0416DC 80040ADC 971701E0 */   lhu   $s7, 0x1e0($t8)
/* 0416E0 80040AE0 0003C880 */  sll   $t9, $v1, 2
/* 0416E4 80040AE4 033DC820 */  add   $t9, $t9, $sp
/* 0416E8 80040AE8 16E00004 */  bnez  $s7, .L80040AFC
/* 0416EC 80040AEC 8F3601C0 */   lw    $s6, 0x1c0($t9)
/* 0416F0 80040AF0 22D60004 */  addi  $s6, $s6, 4
/* 0416F4 80040AF4 24170020 */  li    $s7, 32
/* 0416F8 80040AF8 AF3601C0 */  sw    $s6, 0x1c0($t9)
.L80040AFC:
/* 0416FC 80040AFC 8ED90000 */  lw    $t9, ($s6)
/* 041700 80040B00 22F7FFFF */  addi  $s7, $s7, -1
/* 041704 80040B04 A71701E0 */  sh    $s7, 0x1e0($t8)
/* 041708 80040B08 02F91006 */  srlv  $v0, $t9, $s7
/* 04170C 80040B0C 03E00008 */  jr    $ra
/* 041710 80040B10 30420001 */   andi  $v0, $v0, 1

.L80040B14:
/* 041714 80040B14 0003C880 */  sll   $t9, $v1, 2
/* 041718 80040B18 033DC820 */  add   $t9, $t9, $sp
/* 04171C 80040B1C 03A3A820 */  add   $s5, $sp, $v1
/* 041720 80040B20 16E00013 */  bnez  $s7, .L80040B70
/* 041724 80040B24 8F3601C0 */   lw    $s6, 0x1c0($t9)
/* 041728 80040B28 82D70000 */  lb    $s7, ($s6)
/* 04172C 80040B2C 24020100 */  li    $v0, 256
/* 041730 80040B30 06E20007 */  bltzl $s7, .L80040B50
/* 041734 80040B34 00621004 */   sllv  $v0, $v0, $v1
/* 041738 80040B38 00621004 */  sllv  $v0, $v0, $v1
/* 04173C 80040B3C 00401027 */  not   $v0, $v0
/* 041740 80040B40 22F70003 */  addi  $s7, $s7, 3
/* 041744 80040B44 10000005 */  b     .L80040B5C
/* 041748 80040B48 01425024 */   and   $t2, $t2, $v0
/* 04174C 80040B4C 00621004 */  sllv  $v0, $v0, $v1
.L80040B50:
/* 041750 80040B50 32F7007F */  andi  $s7, $s7, 0x7f
/* 041754 80040B54 22F70001 */  addi  $s7, $s7, 1
/* 041758 80040B58 01425025 */  or    $t2, $t2, $v0
.L80040B5C:
/* 04175C 80040B5C 92C20001 */  lbu   $v0, 1($s6)
/* 041760 80040B60 22D60002 */  addi  $s6, $s6, 2
/* 041764 80040B64 0017B8C0 */  sll   $s7, $s7, 3
/* 041768 80040B68 A2A201A0 */  sb    $v0, 0x1a0($s5)
/* 04176C 80040B6C AF3601C0 */  sw    $s6, 0x1c0($t9)
.L80040B70:
/* 041770 80040B70 92A201A0 */  lbu   $v0, 0x1a0($s5)
/* 041774 80040B74 22F7FFFF */  addi  $s7, $s7, -1
/* 041778 80040B78 A71701E0 */  sh    $s7, 0x1e0($t8)
/* 04177C 80040B7C 32F80007 */  andi  $t8, $s7, 7
/* 041780 80040B80 03021006 */  srlv  $v0, $v0, $t8
/* 041784 80040B84 1700000C */  bnez  $t8, .L80040BB8
/* 041788 80040B88 30420001 */   andi  $v0, $v0, 1
/* 04178C 80040B8C 12E0000A */  beqz  $s7, .L80040BB8
/* 041790 80040B90 00000000 */   nop   
/* 041794 80040B94 24180100 */  li    $t8, 256
/* 041798 80040B98 0078B804 */  sllv  $s7, $t8, $v1
/* 04179C 80040B9C 02EAB824 */  and   $s7, $s7, $t2
/* 0417A0 80040BA0 12E00005 */  beqz  $s7, .L80040BB8
/* 0417A4 80040BA4 00000000 */   nop   
/* 0417A8 80040BA8 92D70000 */  lbu   $s7, ($s6)
/* 0417AC 80040BAC 22D60001 */  addi  $s6, $s6, 1
/* 0417B0 80040BB0 A2B701A0 */  sb    $s7, 0x1a0($s5)
/* 0417B4 80040BB4 AF3601C0 */  sw    $s6, 0x1c0($t9)
.L80040BB8:
/* 0417B8 80040BB8 03E00008 */  jr    $ra
/* 0417BC 80040BBC 00000000 */   nop   

# func_80040BC0 -> SetUpHuffmanTree
glabel func_80040BC0
/* 0417C0 80040BC0 AE7FFFF8 */  sw    $ra, -8($s3)
/* 0417C4 80040BC4 2273FFF8 */  addi  $s3, $s3, -8
/* 0417C8 80040BC8 0411FFBF */  bal   func_80040AC8
/* 0417CC 80040BCC 00001825 */   move  $v1, $zero
/* 0417D0 80040BD0 50400014 */  beql  $v0, $zero, .L80040C24
/* 0417D4 80040BD4 00008025 */   move  $s0, $zero
/* 0417D8 80040BD8 AE740004 */  sw    $s4, 4($s3)
/* 0417DC 80040BDC 0411FFF8 */  bal   func_80040BC0
/* 0417E0 80040BE0 22940001 */   addi  $s4, $s4, 1
/* 0417E4 80040BE4 8E750004 */  lw    $s5, 4($s3)
/* 0417E8 80040BE8 0015A840 */  sll   $s5, $s5, 1
/* 0417EC 80040BEC 02BDA820 */  add   $s5, $s5, $sp
/* 0417F0 80040BF0 0411FFF3 */  bal   func_80040BC0
/* 0417F4 80040BF4 A6A20080 */   sh    $v0, 0x80($s5)
/* 0417F8 80040BF8 8E750004 */  lw    $s5, 4($s3)
/* 0417FC 80040BFC 22730008 */  addi  $s3, $s3, 8
/* 041800 80040C00 02A0B025 */  move  $s6, $s5
/* 041804 80040C04 0015A840 */  sll   $s5, $s5, 1
/* 041808 80040C08 02BDA820 */  add   $s5, $s5, $sp
/* 04180C 80040C0C A6A200FE */  sh    $v0, 0xfe($s5)
/* 041810 80040C10 8E7FFFF8 */  lw    $ra, -8($s3)
/* 041814 80040C14 02C01025 */  move  $v0, $s6
/* 041818 80040C18 03E00008 */  jr    $ra
/* 04181C 80040C1C 00000000 */   nop   

/* 041820 80040C20 00008025 */  move  $s0, $zero
.L80040C24:
/* 041824 80040C24 24110005 */  li    $s1, 5
.L80040C28:
/* 041828 80040C28 0411FFA7 */  bal   func_80040AC8
/* 04182C 80040C2C 00001825 */   move  $v1, $zero
/* 041830 80040C30 00108040 */  sll   $s0, $s0, 1
/* 041834 80040C34 2231FFFF */  addi  $s1, $s1, -1
/* 041838 80040C38 1620FFFB */  bnez  $s1, .L80040C28
/* 04183C 80040C3C 02028020 */   add   $s0, $s0, $v0
/* 041840 80040C40 8E7F0000 */  lw    $ra, ($s3)
/* 041844 80040C44 22730008 */  addi  $s3, $s3, 8
/* 041848 80040C48 02001025 */  move  $v0, $s0
/* 04184C 80040C4C 03E00008 */  jr    $ra
/* 041850 80040C50 00000000 */   nop   

# func_80040C54 -> RetrieveHuffmanTreeValue
glabel func_80040C54
/* 041854 80040C54 0120A025 */  move  $s4, $t1
/* 041858 80040C58 03E09825 */  move  $s3, $ra
.L80040C5C:
/* 04185C 80040C5C 2A810020 */  slti  $at, $s4, 0x20
/* 041860 80040C60 1420000A */  bnez  $at, .L80040C8C
/* 041864 80040C64 00000000 */   nop   
/* 041868 80040C68 0411FF97 */  bal   func_80040AC8
/* 04186C 80040C6C 00001825 */   move  $v1, $zero
/* 041870 80040C70 00141840 */  sll   $v1, $s4, 1
/* 041874 80040C74 14400003 */  bnez  $v0, .L80040C84
/* 041878 80040C78 03A3C020 */   add   $t8, $sp, $v1
/* 04187C 80040C7C 1000FFF7 */  b     .L80040C5C
/* 041880 80040C80 87140080 */   lh    $s4, 0x80($t8)
.L80040C84:
/* 041884 80040C84 1000FFF5 */  b     .L80040C5C
/* 041888 80040C88 871400FE */   lh    $s4, 0xfe($t8)
.L80040C8C:
/* 04188C 80040C8C 02600008 */  jr    $s3
/* 041890 80040C90 00000000 */   nop   

# func_80040C94 -> ColorCombine
glabel func_80040C94
/* 041894 80040C94 2B010010 */  slti  $at, $t8, 0x10
/* 041898 80040C98 54200013 */  bnel  $at, $zero, .L80040CE8
/* 04189C 80040C9C 00181040 */   sll   $v0, $t8, 1
/* 0418A0 80040CA0 2402001F */  li    $v0, 31
/* 0418A4 80040CA4 00581022 */  sub   $v0, $v0, $t8
/* 0418A8 80040CA8 00021040 */  sll   $v0, $v0, 1
/* 0418AC 80040CAC 0059082A */  slt   $at, $v0, $t9
/* 0418B0 80040CB0 50200005 */  beql  $at, $zero, .L80040CC8
/* 0418B4 80040CB4 33220001 */   andi  $v0, $t9, 1
/* 0418B8 80040CB8 2402001F */  li    $v0, 31
/* 0418BC 80040CBC 03E00008 */  jr    $ra
/* 0418C0 80040CC0 0059C822 */   sub   $t9, $v0, $t9

/* 0418C4 80040CC4 33220001 */  andi  $v0, $t9, 1
.L80040CC8:
/* 0418C8 80040CC8 10400004 */  beqz  $v0, .L80040CDC
/* 0418CC 80040CCC 0019C842 */   srl   $t9, $t9, 1
/* 0418D0 80040CD0 0338C820 */  add   $t9, $t9, $t8
/* 0418D4 80040CD4 03E00008 */  jr    $ra
/* 0418D8 80040CD8 23390001 */   addi  $t9, $t9, 1

.L80040CDC:
/* 0418DC 80040CDC 03E00008 */  jr    $ra
/* 0418E0 80040CE0 0319C822 */   sub   $t9, $t8, $t9

/* 0418E4 80040CE4 00181040 */  sll   $v0, $t8, 1
.L80040CE8:
/* 0418E8 80040CE8 0059082A */  slt   $at, $v0, $t9
/* 0418EC 80040CEC 5020FFF6 */  beql  $at, $zero, .L80040CC8
/* 0418F0 80040CF0 33220001 */   andi  $v0, $t9, 1
/* 0418F4 80040CF4 03E00008 */  jr    $ra
/* 0418F8 80040CF8 00000000 */   nop   

/* 0418FC 80040CFC 00000000 */  nop   
